{% load static %}
{% load dict_extras %}
<!DOCTYPE html>
<html lang="fr">

    <head>
        <meta charset="utf-8">
        <title>Accueil</title>
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta content="" name="keywords">
        <meta content="" name="description">

        <!-- Google Web Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">

        <!-- Icon Font Stylesheet -->
   

        <link rel="stylesheet" href="{% static 'web_site/css/index.css' %}">

        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

        <!-- Libraries Stylesheet -->
        <link rel="stylesheet" href="{% static 'web_site/lib/animate/animate.min.css' %}">
        <link href="{% static 'web_site/lib/lightbox/css/lightbox.min.css' %}" rel="stylesheet">
        <link href="{% static 'web_site/lib/owlcarousel/assets/owl.carousel.min.css' %}" rel="stylesheet">


        <!-- Customized Bootstrap Stylesheet -->
        <link href="{% static 'web_site/css/bootstrap.min.css' %}" rel="stylesheet">

        <!-- Template Stylesheet -->
        <link href="{% static 'web_site/css/style.css' %}" rel="stylesheet">
    </head>

    <body>

        <!-- Spinner Start -->
        <div id="spinner" class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
            <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>
        <!-- Spinner End -->

     

        <!-- Navbar & Hero Start -->
      {% include 'web_site/navbar.html' %}

        <!-- Navbar & Hero End -->

        <!-- Services Start -->
        <div class="container-fluid service pb-5">
            <br>
            <br>
            <br>
            <div class="container pb-5">
                <div class="text-center mx-auto pb-5 wow fadeInUp service-header animated-bg-header" data-wow-delay="0.2s" style="max-width: 800px; position: relative;">
                    <h1 class="display-5 mb-4 animated-gradient-text" style="color: #fff;">Tous Nos Services</h1>
                    <p class="animated-fade-in" style="color: #fff; text-shadow: 0 1px 8px #111;">Découvrez nos services d'impression grand format, petit format et autres services personnalisés.</p>
                    <div class="header-underline"></div>
                </div>
                <br>    
                <style>
                    .animated-bg-header {
                        background: linear-gradient(270deg, #ff9800, #2196f3, #111, #ff9800, #2196f3, #111);
                        background-size: 1200% 1200%;
                        animation: animated-bg-move 10s ease-in-out infinite;
                        border-radius: 18px;
                        box-shadow: 0 4px 24px rgba(33,150,243,0.08), 0 1.5px 8px rgba(255,152,0,0.08);
                        padding-top: 32px;
                        padding-bottom: 32px;
                    }
                    @keyframes animated-bg-move {
                        0% {background-position: 0% 50%;}
                        50% {background-position: 100% 50%;}
                        100% {background-position: 0% 50%;}
                    }
                </style>
                <style>
                    .animated-gradient-text {
                        background: linear-gradient(90deg, #ff9800, #ff5722, #ffc107);
                        -webkit-background-clip: text;
                        -webkit-text-fill-color: transparent;
                        animation: gradient-move 3s linear infinite;
                        font-weight: 700;
                    }
                    @keyframes gradient-move {
                        0% {background-position: 0%;}
                        100% {background-position: 100%;}
                    }
                    .service-header .header-underline {
                        width: 80px;
                        height: 4px;
                        background: linear-gradient(90deg, #ff9800, #ff5722, #ffc107);
                        margin: 20px auto 0 auto;
                        border-radius: 2px;
                        animation: underline-grow 1s ease;
                    }
                    @keyframes underline-grow {
                        from {width: 0;}
                        to {width: 80px;}
                    }
                    .animated-fade-in {
                        opacity: 0;
                        animation: fadeInText 1.2s 0.5s forwards;
                    }
                    @keyframes fadeInText {
                        to {opacity: 1;}
                    }
                </style>
                <script>
                    document.addEventListener('DOMContentLoaded', function() {
                        const header = document.querySelector('.service-header');
                        header.classList.add('animate__animated', 'animate__pulse');
                        setTimeout(() => {
                            header.classList.remove('animate__pulse');
                        }, 1200);
                    });
                </script>

                <div class="row g-4">
                    {% if services %}
  {% for service in services %}
            <div class="col-lg-4 col-md-6 d-flex align-items-stretch wow fadeInUp" data-wow-delay="0.1s">
                <div class="service-item bg-light rounded overflow-hidden border border-orange h-100 d-flex flex-column" style="border-color: orange !important;">
                    <img class="img-fluid" style="height:220px; object-fit:cover; width:100%;" src="{{ service.image.url }}" alt="{{ service.titre }}">
                    <div class="p-4 flex-grow-1 d-flex flex-column">
                        <h5 class="mb-2">{{ service.titre }}</h5>
                        <p class="mb-3">{{ service.description }}</p>
                        <ul class="mb-3">
                        {% for model in service_models_by_service|get_item:service %}
                            <li class="model-list-item d-flex justify-content-between align-items-center py-1 px-2 mb-2 rounded border" style="background: #fffbe7; border-color: #ff9800; font-size: 1rem;">
                                <div class="d-flex align-items-center">
                                    <i class="fas fa-cube me-2" style="color: #ff9800;"></i>
                                    <span class="model-name fw-semibold" style="color: #333;">
                                        {{ model.nom }}
                                    </span>
                                </div>
                                <span class="mx-2" style="color: #ff9800; font-weight: bold;">|</span>
                                <span class="model-price fw-bold" style="color: #ff9800;">
                                    {{ model.prix_unitaire|floatformat:0 }} fcfa
                                </span>
                            </li>
                        {% empty %}
                            <li class="text-muted fst-italic">Aucun modèle disponible.</li>
                        {% endfor %}
                        </ul>
                        <div class="mt-auto">
                            <a href="{% url 'savoir_plus' service.id %}" class="btn btn-primary w-100">En savoir plus</a>
                        </div>
                    </div>
                </div>
            </div>
{% endfor %}
{% else %}
  <div class="alert alert-warning">Aucun service à afficher.</div>
{% endif %}
                </div>
            </div>
        </div>
        <!-- Services End -->


        <!-- Footer Start -->
       {% include 'web_site/footer.html' %}
        <!-- Footer End -->
        

        <!-- Back to Top -->
        <a href="#" class="btn btn-primary btn-lg-square rounded-circle back-to-top"><i class="fa fa-arrow-up"></i></a>   

        
        <!-- JavaScript Libraries -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
        <script src="{% static 'web_site/lib/wow/wow.min.js' %}"></script>
        <script src="{% static 'web_site/lib/easing/easing.min.js' %}"></script>
        <script src="{% static 'web_site/lib/waypoints/waypoints.min.js' %}"></script>
        <script src="{% static 'web_site/lib/counterup/counterup.min.js' %}"></script>
        <script src="{% static 'web_site/lib/lightbox/js/lightbox.min.js' %}"></script>
        <script src="{% static 'web_site/lib/owlcarousel/owl.carousel.min.js' %}"></script>

        <!-- Template Javascript -->
        <script src="{% static 'web_site/js/main.js' %}"></script>
    </body>

</html>